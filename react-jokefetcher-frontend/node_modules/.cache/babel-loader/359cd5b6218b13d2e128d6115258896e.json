{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\frede\\\\Desktop\\\\3.Semester\\\\ca3_frontend\\\\react-jokefetcher-frontend\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route, NavLink } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\n\nfunction App({\n  jokeFacade,\n  scrapeFacade,\n  authFacade\n}) {\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const logout = () => {\n    authFacade.logout();\n    setLoggedIn(false);\n  };\n\n  const login = (user, pass) => {\n    authFacade.login(user, pass).then(res => setLoggedIn(true)).catch(res => alert(\"Status code : \" + res.status + \" Wrong username or password.\"));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }\n  }, !loggedIn ? /*#__PURE__*/React.createElement(LogIn, {\n    login: login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LoggedIn, {\n    jokeFacade: jokeFacade,\n    scrapeFacade: scrapeFacade,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 11\n    }\n  }, \"Logout\")));\n}\n\nfunction LogIn({\n  login\n}) {\n  const init = {\n    username: \"\",\n    password: \"\"\n  };\n  const [loginCredentials, setLoginCredentials] = useState(init);\n\n  const performLogin = evt => {\n    evt.preventDefault();\n    login(loginCredentials.username, loginCredentials.password);\n  };\n\n  const onChange = evt => {\n    setLoginCredentials({ ...loginCredentials,\n      [evt.target.id]: evt.target.value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"User Name\",\n    id: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    placeholder: \"Password\",\n    id: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: performLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, \"Login\")));\n}\n\nfunction LoggedIn({\n  jokeFacade,\n  scrapeFacade\n}) {\n  const [role, setRole] = useState(\"\");\n  useEffect(() => {\n    var token = localStorage.getItem(\"jwtToken\");\n    var decoded = jwt_decode(token);\n    setRole(decoded.roles);\n    console.log(role);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Home, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/jokes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Jokes, {\n    jokeFacade: jokeFacade,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    path: \"/scrape\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Scrape, {\n    scrapeFacade: scrapeFacade,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Route, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NoMatch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }))));\n}\n\nfunction Header() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    exact: true,\n    activeClassName: \"active\",\n    to: \"/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, \"Home\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/jokes\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, \"Jokes\")), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    activeClassName: \"active\",\n    to: \"/scrape\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, \"Scrape\"))));\n}\n\nfunction NoMatch() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, \"No match for that route\"));\n}\n\nfunction Home() {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, \"Home\"));\n}\n\nfunction Jokes({\n  jokeFacade\n}) {\n  const [jokes, setJokes] = useState([]);\n  useEffect(() => {\n    jokeFacade().getJokes().then(data => {\n      setJokes({ ...data\n      });\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 9\n    }\n  }, \"Chuck joke : \", jokes.chuckJoke), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 9\n    }\n  }, \"Chuck joke url : \", jokes.chuckJokeURL), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 9\n    }\n  }, \"Dad joke : \", jokes.dadJoke), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 9\n    }\n  }, \"Dad joke url : \", jokes.dadJokeURL)));\n}\n\nfunction Scrape({\n  scrapeFacade\n}) {\n  const [scrapes, setScrapes] = useState([]);\n  useEffect(() => {\n    scrapeFacade().getScrape().then(data => {\n      setScrapes(data);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 5\n    }\n  }, scrapes.map((scrape, index) => /*#__PURE__*/React.createElement(\"ul\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, \"Title : \", scrape.title), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }, \"URL : \", scrape.url), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  }, \"Div count : \", scrape.divCount), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, \"Body count : \", scrape.bodyCount))));\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/frede/Desktop/3.Semester/ca3_frontend/react-jokefetcher-frontend/src/App.js"],"names":["React","useState","useEffect","Switch","Route","NavLink","jwt_decode","App","jokeFacade","scrapeFacade","authFacade","loggedIn","setLoggedIn","logout","login","user","pass","then","res","catch","alert","status","LogIn","init","username","password","loginCredentials","setLoginCredentials","performLogin","evt","preventDefault","onChange","target","id","value","LoggedIn","role","setRole","token","localStorage","getItem","decoded","roles","console","log","Header","NoMatch","Home","Jokes","jokes","setJokes","getJokes","data","chuckJoke","chuckJokeURL","dadJoke","dadJokeURL","Scrape","scrapes","setScrapes","getScrape","map","scrape","index","title","url","divCount","bodyCount"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,WAAP;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,OAAxB,QAAuC,kBAAvC;AACA,OAAOC,UAAP,MAAuB,YAAvB;;AAEA,SAASC,GAAT,CAAa;AAAEC,EAAAA,UAAF;AAAcC,EAAAA,YAAd;AAA4BC,EAAAA;AAA5B,CAAb,EAAuD;AACrD,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,KAAD,CAAxC;;AAEA,QAAMY,MAAM,GAAG,MAAM;AACnBH,IAAAA,UAAU,CAACG,MAAX;AACAD,IAAAA,WAAW,CAAC,KAAD,CAAX;AACD,GAHD;;AAIA,QAAME,KAAK,GAAG,CAACC,IAAD,EAAOC,IAAP,KAAgB;AAC5BN,IAAAA,UAAU,CACPI,KADH,CACSC,IADT,EACeC,IADf,EAEGC,IAFH,CAESC,GAAD,IAASN,WAAW,CAAC,IAAD,CAF5B,EAGGO,KAHH,CAGUD,GAAD,IACLE,KAAK,CAAC,mBAAmBF,GAAG,CAACG,MAAvB,GAAgC,8BAAjC,CAJT;AAMD,GAPD;;AASA,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,CAACV,QAAD,gBACC,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAEG,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,gBAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAU,IAAA,UAAU,EAAEN,UAAtB;AAAkC,IAAA,YAAY,EAAEC,YAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAQ,IAAA,OAAO,EAAEI,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,CAJJ,CADF;AAYD;;AAED,SAASS,KAAT,CAAe;AAAER,EAAAA;AAAF,CAAf,EAA0B;AACxB,QAAMS,IAAI,GAAG;AAAEC,IAAAA,QAAQ,EAAE,EAAZ;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAAb;AACA,QAAM,CAACC,gBAAD,EAAmBC,mBAAnB,IAA0C1B,QAAQ,CAACsB,IAAD,CAAxD;;AAEA,QAAMK,YAAY,GAAIC,GAAD,IAAS;AAC5BA,IAAAA,GAAG,CAACC,cAAJ;AACAhB,IAAAA,KAAK,CAACY,gBAAgB,CAACF,QAAlB,EAA4BE,gBAAgB,CAACD,QAA7C,CAAL;AACD,GAHD;;AAIA,QAAMM,QAAQ,GAAIF,GAAD,IAAS;AACxBF,IAAAA,mBAAmB,CAAC,EAClB,GAAGD,gBADe;AAElB,OAACG,GAAG,CAACG,MAAJ,CAAWC,EAAZ,GAAiBJ,GAAG,CAACG,MAAJ,CAAWE;AAFV,KAAD,CAAnB;AAID,GALD;;AAOA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,eAEE;AAAM,IAAA,QAAQ,EAAEH,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,WAAW,EAAC,WAAnB;AAA+B,IAAA,EAAE,EAAC,UAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAO,IAAA,WAAW,EAAC,UAAnB;AAA8B,IAAA,EAAE,EAAC,UAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE;AAAQ,IAAA,OAAO,EAAEH,YAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAHF,CAFF,CADF;AAUD;;AAED,SAASO,QAAT,CAAkB;AAAE3B,EAAAA,UAAF;AAAcC,EAAAA;AAAd,CAAlB,EAAgD;AAC9C,QAAM,CAAC2B,IAAD,EAAOC,OAAP,IAAkBpC,QAAQ,CAAC,EAAD,CAAhC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIoC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAZ;AACA,QAAIC,OAAO,GAAGnC,UAAU,CAACgC,KAAD,CAAxB;AACAD,IAAAA,OAAO,CAACI,OAAO,CAACC,KAAT,CAAP;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYR,IAAZ;AACD,GALQ,EAKN,EALM,CAAT;AAOA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAIE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,UAAU,EAAE5B,UAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAJF,eAOE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,YAAY,EAAEC,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAPF,eAUE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAVF,CAFF,CADF;AAmBD;;AAED,SAASoC,MAAT,GAAkB;AAChB,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAS,IAAA,KAAK,MAAd;AAAe,IAAA,eAAe,EAAC,QAA/B;AAAwC,IAAA,EAAE,EAAC,GAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CADF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAS,IAAA,eAAe,EAAC,QAAzB;AAAkC,IAAA,EAAE,EAAC,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,CANF,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,OAAD;AAAS,IAAA,eAAe,EAAC,QAAzB;AAAkC,IAAA,EAAE,EAAC,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,CAXF,CADF,CADF;AAqBD;;AAED,SAASC,OAAT,GAAmB;AACjB,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,CADF;AAKD;;AAED,SAASC,IAAT,GAAgB;AACd,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,CADF;AAKD;;AAED,SAASC,KAAT,CAAe;AAAExC,EAAAA;AAAF,CAAf,EAA+B;AAC7B,QAAM,CAACyC,KAAD,EAAQC,QAAR,IAAoBjD,QAAQ,CAAC,EAAD,CAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdM,IAAAA,UAAU,GACP2C,QADH,GAEGlC,IAFH,CAESmC,IAAD,IAAU;AACdF,MAAAA,QAAQ,CAAC,EAAE,GAAGE;AAAL,OAAD,CAAR;AACD,KAJH;AAKD,GANQ,EAMN,EANM,CAAT;AAQA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAkBH,KAAK,CAACI,SAAxB,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAsBJ,KAAK,CAACK,YAA5B,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAgBL,KAAK,CAACM,OAAtB,CAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAoBN,KAAK,CAACO,UAA1B,CAJF,CADF,CADF;AAUD;;AAED,SAASC,MAAT,CAAgB;AAAEhD,EAAAA;AAAF,CAAhB,EAAkC;AAChC,QAAM,CAACiD,OAAD,EAAUC,UAAV,IAAwB1D,QAAQ,CAAC,EAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,YAAY,GACTmD,SADH,GAEG3C,IAFH,CAESmC,IAAD,IAAU;AACdO,MAAAA,UAAU,CAACP,IAAD,CAAV;AACD,KAJH;AAKD,GANQ,EAMN,EANM,CAAT;AAQA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGM,OAAO,CAACG,GAAR,CAAY,CAACC,MAAD,EAASC,KAAT,kBACX;AAAI,IAAA,GAAG,EAAEA,KAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAaD,MAAM,CAACE,KAApB,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAWF,MAAM,CAACG,GAAlB,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAiBH,MAAM,CAACI,QAAxB,CAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAkBJ,MAAM,CAACK,SAAzB,CAJF,CADD,CADH,CADF;AAYD;;AAED,eAAe5D,GAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route, NavLink } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\n\nfunction App({ jokeFacade, scrapeFacade, authFacade }) {\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const logout = () => {\n    authFacade.logout();\n    setLoggedIn(false);\n  };\n  const login = (user, pass) => {\n    authFacade\n      .login(user, pass)\n      .then((res) => setLoggedIn(true))\n      .catch((res) =>\n        alert(\"Status code : \" + res.status + \" Wrong username or password.\")\n      );\n  };\n\n  return (\n    <div className=\"App\">\n      {!loggedIn ? (\n        <LogIn login={login} />\n      ) : (\n        <div>\n          <LoggedIn jokeFacade={jokeFacade} scrapeFacade={scrapeFacade} />\n          <button onClick={logout}>Logout</button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction LogIn({ login }) {\n  const init = { username: \"\", password: \"\" };\n  const [loginCredentials, setLoginCredentials] = useState(init);\n\n  const performLogin = (evt) => {\n    evt.preventDefault();\n    login(loginCredentials.username, loginCredentials.password);\n  };\n  const onChange = (evt) => {\n    setLoginCredentials({\n      ...loginCredentials,\n      [evt.target.id]: evt.target.value,\n    });\n  };\n\n  return (\n    <div>\n      <h2>Login</h2>\n      <form onChange={onChange}>\n        <input placeholder=\"User Name\" id=\"username\" />\n        <input placeholder=\"Password\" id=\"password\" />\n        <button onClick={performLogin}>Login</button>\n      </form>\n    </div>\n  );\n}\n\nfunction LoggedIn({ jokeFacade, scrapeFacade }) {\n  const [role, setRole] = useState(\"\");\n  useEffect(() => {\n    var token = localStorage.getItem(\"jwtToken\");\n    var decoded = jwt_decode(token);\n    setRole(decoded.roles);\n    console.log(role);\n  }, []);\n\n  return (\n    <div>\n      <Header />\n      <Switch>\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n        <Route path=\"/jokes\">\n          <Jokes jokeFacade={jokeFacade} />\n        </Route>\n        <Route path=\"/scrape\">\n          <Scrape scrapeFacade={scrapeFacade} />\n        </Route>\n        <Route>\n          <NoMatch />\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nfunction Header() {\n  return (\n    <div>\n      <ul className=\"header\">\n        <li>\n          <NavLink exact activeClassName=\"active\" to=\"/\">\n            Home\n          </NavLink>\n        </li>\n        <li>\n          <NavLink activeClassName=\"active\" to=\"/jokes\">\n            Jokes\n          </NavLink>\n        </li>\n        <li>\n          <NavLink activeClassName=\"active\" to=\"/scrape\">\n            Scrape\n          </NavLink>\n        </li>\n      </ul>\n    </div>\n  );\n}\n\nfunction NoMatch() {\n  return (\n    <div>\n      <h3>No match for that route</h3>\n    </div>\n  );\n}\n\nfunction Home() {\n  return (\n    <div>\n      <h2>Home</h2>\n    </div>\n  );\n}\n\nfunction Jokes({ jokeFacade }) {\n  const [jokes, setJokes] = useState([]);\n\n  useEffect(() => {\n    jokeFacade()\n      .getJokes()\n      .then((data) => {\n        setJokes({ ...data });\n      });\n  }, []);\n\n  return (\n    <div>\n      <ul>\n        <li>Chuck joke : {jokes.chuckJoke}</li>\n        <li>Chuck joke url : {jokes.chuckJokeURL}</li>\n        <li>Dad joke : {jokes.dadJoke}</li>\n        <li>Dad joke url : {jokes.dadJokeURL}</li>\n      </ul>\n    </div>\n  );\n}\n\nfunction Scrape({ scrapeFacade }) {\n  const [scrapes, setScrapes] = useState([]);\n\n  useEffect(() => {\n    scrapeFacade()\n      .getScrape()\n      .then((data) => {\n        setScrapes(data);\n      });\n  }, []);\n\n  return (\n    <div>\n      {scrapes.map((scrape, index) => (\n        <ul key={index}>\n          <li>Title : {scrape.title}</li>\n          <li>URL : {scrape.url}</li>\n          <li>Div count : {scrape.divCount}</li>\n          <li>Body count : {scrape.bodyCount}</li>\n        </ul>\n      ))}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}